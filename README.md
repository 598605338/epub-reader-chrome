# epub-reader-chrome
# EPUB阅读器 Chrome扩展

一个功能强大的Chrome浏览器扩展，专门用于阅读EPUB格式的电子书。提供完整的阅读体验，包括目录导航、个性化设置、多主题支持等功能。

## ✨ 功能特色

### 📚 EPUB支持
- 完整的EPUB 2.0/3.0格式支持
- 智能解析章节结构和目录
- 支持图片显示（JPEG、PNG、GIF、SVG等）
- 自动处理压缩文件格式

### 🎨 阅读体验
- **左侧目录栏**：固定式章节导航，快速跳转
- **字体设置**：
  - 字体类型切换（微软雅黑/宋体）
  - 字体大小调节（12px-32px）
  - 行距调节（1.0-3.0倍）
- **主题系统**：
  - 默认白色主题
  - 护眼色主题
  - 夜间黑色主题
  - 自定义颜色主题
- **智能滚动**：章节切换时自动滚动到顶部

### ⌨️ 快捷操作
- 方向键章节导航
- 快捷键字体大小调节
- 一键设置重置

## 📦 安装方法

### 从源码安装（开发者模式）

1. **下载源码**
   ```bash
   git clone https://github.com/你的用户名/epub-reader-chrome-extension.git
   cd epub-reader-chrome-extension
   ```

2. **安装到Chrome**
   - 打开Chrome浏览器
   - 访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择项目文件夹 `epub-reader`

3. **确认安装**
   - 扩展程序列表中出现"EPUB阅读器"
   - 浏览器工具栏显示扩展图标

## 🚀 使用说明

### 打开EPUB文件

1. 点击浏览器工具栏中的EPUB阅读器图标
2. 在弹窗中点击"选择EPUB文件"
3. 从文件系统中选择`.epub`文件
4. 等待文件解析完成（大文件可能需要几秒钟）
5. 自动跳转到阅读页面

### 阅读操作

#### 章节导航
- **左侧目录栏**：点击章节标题直接跳转
- **导航按钮**：使用"上一章"/"下一章"按钮
- **键盘快捷键**：
  - `←` 左箭头：上一章
  - `→` 右箭头：下一章

#### 字体设置
- **字体大小**：
  - 点击工具栏中的 `A-` / `A+` 按钮
  - 或使用快捷键 `↑` / `↓` 
- **字体类型**：在"字体"下拉菜单中选择
- **行距调节**：拖动行距滑块

#### 主题切换
- **预设主题**：点击主题按钮快速切换
  - 默认（白色背景）
  - 护眼色（淡绿色背景）
  - 夜间（黑色背景）
- **自定义主题**：
  - 使用颜色选择器自定义背景色和文字色
  - 点击"重置颜色"恢复默认

## 📁 项目结构

```
epub-reader/
├── manifest.json          # 扩展配置文件
├── popup.html             # 扩展弹窗页面
├── popup.js               # 弹窗逻辑
├── reader.html            # 阅读器页面
├── reader.js              # 阅读器UI控制
├── styles.css             # 样式文件
├── epub-simple.js         # EPUB解析核心
├── icon48.png             # 扩展图标
└── icon128.png            # 扩展图标
```

## 🔧 技术实现

### 核心技术
- **Manifest V3**：使用最新的Chrome扩展标准
- **纯JavaScript**：无外部依赖，所有功能自主实现
- **ZIP解析**：自主实现的ZIP文件解压缩
- **EPUB标准**：完整支持EPUB容器格式
- **IndexedDB**：大文件存储支持

### 特色实现
- **智能图片处理**：自动解析相对路径，支持多种图片格式
- **内存优化**：分批处理大文件，避免浏览器崩溃
- **错误恢复**：多层错误处理机制，确保稳定性
- **CSP兼容**：符合Chrome扩展内容安全策略

## 🛠️ 开发说明

### 本地开发

1. **克隆项目**
   ```bash
   git clone <your-repo-url>
   cd epub-reader
   ```

2. **修改代码**
   - 主要逻辑在 `epub-simple.js` 中
   - UI控制在 `reader.js` 中
   - 样式在 `styles.css` 中

3. **测试更改**
   - 在Chrome扩展页面点击"重新加载"
   - 测试各种EPUB文件

### 贡献指南

1. Fork本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

## 📝 支持的文件格式

- ✅ EPUB 2.0
- ✅ EPUB 3.0
- ✅ 图片格式：JPEG, PNG, GIF, SVG, WebP, BMP, TIFF
- ✅ 压缩方式：无压缩、Deflate压缩
- ✅ 文本编码：UTF-8, UTF-16等

## ⚠️ 使用限制

- 单个EPUB文件大小建议不超过100MB
- 图片总大小限制为15MB（超出部分显示占位符）
- 最多显示30张图片（超出部分显示文件名）
- 仅支持本地文件，不支持在线EPUB链接

## 🔄 版本历史

### v1.0.0
- 基本EPUB阅读功能
- 目录导航支持
- 图片显示功能
- 多主题支持
- 字体设置功能

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🤝 问题反馈

如果您遇到任何问题或有功能建议，请：

1. 查看 [Issues](../../issues) 页面是否有类似问题
2. 如果没有，请创建新的Issue
3. 提供详细的问题描述和重现步骤
4. 如果可能，提供出错的EPUB文件

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者和测试用户！

---

**享受阅读！** 📖✨ 
